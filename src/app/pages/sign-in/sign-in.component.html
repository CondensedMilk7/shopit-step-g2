<ng-container *ngIf="vm$ | async as vm">
  <div class="container mt-4">
    <form #signInForm="ngForm" (ngSubmit)="onSignIn()">
      <div class="mb-3 row">
        <label for="username" class="col-sm-2 col-form-label">User Name</label>
        <div class="col-sm-10">
          <input
            [(ngModel)]="signInData.username"
            name="username"
            type="text"
            class="form-control"
            id="username"
            #usernameCtrl="ngModel"
            required
          />
          <div
            class="invalid"
            *ngIf="usernameCtrl.invalid && usernameCtrl.dirty"
          >
            User Name is required!
          </div>
        </div>
      </div>
      <div class="mb-3 row">
        <label for="inputPassword" class="col-sm-2 col-form-label"
          >Password</label
        >
        <div class="col-sm-10">
          <input
            [(ngModel)]="signInData.password"
            name="password"
            type="password"
            class="form-control"
            id="inputPassword"
            #passwordCtrl="ngModel"
            required
          />
          <div
            class="invalid"
            *ngIf="passwordCtrl.invalid && passwordCtrl.dirty"
          >
            Password is required!
          </div>
        </div>
      </div>
      <div class="invalid" *ngIf="vm.errorMsg">
        {{ vm.errorMsg }}
      </div>
      <button
        class="btn btn-primary"
        [disabled]="signInForm.invalid || vm.loading"
      >
        <ng-container *ngIf="!vm.loading">Sign in</ng-container>
        <ng-container *ngIf="vm.loading">
          <span
            class="spinner-border spinner-border-sm"
            role="status"
            aria-hidden="true"
          ></span>
          Loading...
        </ng-container>
      </button>
    </form>
  </div>
</ng-container>
